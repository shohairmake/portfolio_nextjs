{"version":3,"file":"static/webpack/static/development/pages/index.js.ad81647c13865448d5fb.hot-update.js","sources":["webpack:///./src/components/blog/BlogContainer.js","webpack:///./src/pages/index.js"],"sourcesContent":["import React from 'react'\nimport Card from '@material-ui/core/Card'\nimport CardContent from '@material-ui/core/CardContent'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport Grid from '@material-ui/core/Grid'\nimport Typography from '@material-ui/core/Typography'\nimport { makeStyles } from '@material-ui/core/styles'\nimport Container from '@material-ui/core/Container'\nimport Link from 'next/link'\n\nconst imgEscapeUrl =\n    'https://images.microcms-assets.io/protected/ap-northeast-1:ce724cba-2fc5-43d8-8189-04c7e1e5975e/service/strad/media/hair9.jpg'\n\nexport default function BlogContainer({ blogs }) {\n    const classes = useStyles()\n\n    return (\n        <>\n            <main>\n                <Container className={classes.cardGrid} maxWidth=\"md\">\n                    {/* End hero unit */}\n                    <Grid container spacing={4}>\n                        {blogs.map((blog) => (\n                            <Grid item key={blog.id} xs={12} sm={6} md={4}>\n                                <Card className={classes.card}>\n                                    <CardMedia\n                                        className={classes.cardMedia}\n                                        image={\n                                            typeof blog.image === 'undefined'\n                                                ? imgEscapeUrl\n                                                : blog.image.url\n                                        }\n                                        title=\"blog.title\"\n                                    />\n                                    <Link\n                                        href=\"/blogs/[id]\"\n                                        as={`blogs/${blog.id}`}\n                                        passHref\n                                    >\n                                        <CardContent\n                                            className={classes.cardContent}\n                                        >\n                                            <Typography\n                                                gutterBottom\n                                                variant=\"h5\"\n                                                component=\"h2\"\n                                            >\n                                                {blog.title}\n                                            </Typography>\n\n                                            <Typography>\n                                                {blog.body.replace(\n                                                    /<(\"[^\"]*\"|'[^']*'|[^'\">])*>/g,\n                                                    ''\n                                                )}\n                                            </Typography>\n                                        </CardContent>\n                                    </Link>\n                                </Card>\n                            </Grid>\n                        ))}\n                    </Grid>\n                </Container>\n            </main>\n        </>\n    )\n}\n\nconst useStyles = makeStyles((theme) => ({\n    cardGrid: {\n        paddingTop: theme.spacing(8),\n        paddingBottom: theme.spacing(8),\n    },\n    card: {\n        height: '100%',\n        display: 'flex',\n        flexDirection: 'column',\n    },\n    cardMedia: {\n        paddingTop: '100%',\n        // paddingTop: '56.25%', // 16:9\n    },\n    cardContent: {\n        flexGrow: 1,\n        cursor: 'pointer',\n    },\n}))\n","import React, { useState, useEffect } from 'react'\nimport fetch from 'isomorphic-unfetch'\nimport { Container, Grid } from '@material-ui/core'\nimport { makeStyles } from '@material-ui/core/styles'\n//components\nimport TopContainer from '../components/index/TopContainer'\nimport WorkContainer from '../components/index/WorkContainer'\nimport AboutContainer from '../components/index/AboutContainer'\nimport LogoContainer from '../components/index/LogoContainer'\nimport LottiePostBox from '../components/Lottie/postbox/postbox'\nimport { IndexTemplate } from '../components/common/Template'\nimport { VisibleContainer } from '../components/helper/animationHelper'\nimport BlogContainer from '../components/blog/BlogContainer'\n// image file\nimport topImg from '../../public/static/img/uyuniSaltLakemono.jpg'\nimport workLogo from '../../public/static/img/WORK.png'\nimport blogLogo from '../../public/static/img/BLOG.png'\nimport aboutLogo from '../../public/static/img/ABOUT.png'\nimport contactLogo from '../../public/static/img/CONTACT.png'\n\nexport default function Index({ images, blogs }) {\n    const classes = useStyles()\n    const [state, setState] = useState({\n        fadeInWork: classes.hide,\n        fadeInBlog: classes.hide,\n        fadeInAbout: classes.hide,\n        fadeInContact: classes.hide,\n    })\n    const [isActiveWorkInner, setIsActiveWorkInner] = useState(false)\n    const [isActiveAboutInner, setIsActiveAboutInner] = useState(false)\n    const [isActiveContact, setIsActiveContact] = useState(false)\n    const [isMaxWidth, setIsMaxWith] = useState(false)\n\n    useEffect(() => {\n        if (window.innerWidth < 600) {\n            setIsMaxWith(true)\n        }\n        const scrollAction = () => {\n            if (\n                document.documentElement.scrollTop > 240 ||\n                document.body.scrollTop > 240\n            ) {\n                setState({\n                    ...state,\n                    fadeInWork: classes.imgLogo,\n                })\n            }\n            if (\n                document.documentElement.scrollTop > 1200 ||\n                document.body.scrollTop > 1200\n            ) {\n                setState({\n                    ...state,\n                    fadeInAbout: classes.imgLogo,\n                    fadeInBlog: classes.imgLogo,\n                })\n            }\n            if (\n                document.documentElement.scrollTop > 1800 ||\n                document.body.scrollTop > 1800\n            ) {\n                setState({\n                    ...state,\n                    fadeInContact: classes.imgLogoContact,\n                })\n            }\n        }\n        window.addEventListener('scroll', scrollAction)\n        return function cleanup() {\n            window.removeEventListener('scroll', scrollAction)\n        }\n    })\n\n    const filterBlogs = blogs.filter((blog, index) => {\n        return index < 3\n    })\n\n    return (\n        <>\n            <IndexTemplate>\n                <main>\n                    <TopContainer />\n                    <Container>\n                        <LogoContainer\n                            logo={workLogo}\n                            alt=\"work_logo\"\n                            state={state.fadeInWork}\n                        />\n                        <VisibleContainer\n                            state={isActiveWorkInner}\n                            setState={setIsActiveWorkInner}\n                        >\n                            <WorkContainer\n                                images={images}\n                                isActiveWorkInner={isActiveWorkInner}\n                            />\n                        </VisibleContainer>\n                        <LogoContainer\n                            logo={blogLogo}\n                            alt=\"blog_logo\"\n                            state={state.fadeInBlog}\n                        />\n                        <Grid className={classes.container}>\n                            <BlogContainer blogs={filterBlogs} />\n                        </Grid>\n                        <LogoContainer\n                            logo={aboutLogo}\n                            alt=\"about_logo\"\n                            state={state.fadeInAbout}\n                        />\n                        <Grid className={classes.container}>\n                            <VisibleContainer\n                                state={isActiveAboutInner}\n                                setState={setIsActiveAboutInner}\n                            >\n                                <AboutContainer\n                                    isActiveAboutInner={isActiveAboutInner}\n                                />\n                            </VisibleContainer>\n                        </Grid>\n                        <LogoContainer\n                            logo={contactLogo}\n                            alt=\"contact_logo\"\n                            state={state.fadeInContact}\n                        />\n                        <Grid className={classes.container}>\n                            <Grid className={classes.inner}>\n                                <VisibleContainer\n                                    state={isActiveContact}\n                                    setState={setIsActiveContact}\n                                >\n                                    <LottiePostBox\n                                        isMaxWidth={isMaxWidth}\n                                        isActiveContact={isActiveContact}\n                                    />\n                                </VisibleContainer>\n                            </Grid>\n                        </Grid>\n                    </Container>\n                </main>\n            </IndexTemplate>\n        </>\n    )\n}\n\nconst useStyles = makeStyles({\n    container: {\n        width: '100%',\n        height: 'auto',\n    },\n    inner: {\n        backgroundImage: `url(${topImg})`,\n        minHeight: '400px',\n    },\n    imgLogo: {\n        width: '14em',\n        height: 'auto',\n        animation:\n            '$fade-in-top 1s cubic-bezier(0.390, 0.575, 0.565, 1.000) both',\n        '@media (max-width:600px)': {\n            width: '11em',\n        },\n    },\n    imgLogoContact: {\n        width: '18em',\n        height: 'auto',\n        animation:\n            '$fade-in-top 1s cubic-bezier(0.390, 0.575, 0.565, 1.000) both',\n        '@media (max-width:600px)': {\n            width: '15em',\n        },\n    },\n    hide: {\n        opacity: 0,\n    },\n    '@keyframes fade-in-top': {\n        '0%': {\n            transform: 'translateY(-50px)',\n            opacity: 0,\n        },\n        '100%': {\n            transform: 'translateY(0)',\n            opacity: 0.7,\n        },\n    },\n})\n\nexport async function getStaticProps() {\n    const key = {\n        headers: { 'X-API-KEY': process.env.API_KEY },\n    }\n    const imageRes = await fetch(\n        `${process.env.API_END_POINT}/image?limit=30`,\n        key\n    )\n    const blogRes = await fetch(`${process.env.API_END_POINT}/blogs`, key)\n    const imageData = await imageRes.json()\n    const blogData = await blogRes.json()\n\n    return {\n        props: {\n            images: imageData.contents,\n            blogs: blogData.contents,\n        },\n    }\n}\n"],"mappings":"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","sourceRoot":""}